{"meta": {"type": "db", "canSave": true, "canEdit": true, "canAdmin": true, "canStar": true, "slug": "alerts-dashboard", "url": "/grafana/d/BbOjtLYGz/alerts-dashboard", "expires": "0001-01-01T00:00:00Z", "created": "2021-12-03T10:46:57Z", "updated": "2021-12-03T10:46:57Z", "updatedBy": "admin", "createdBy": "admin", "version": 1, "hasAcl": false, "isFolder": false, "folderId": 2, "folderTitle": "ops", "folderUrl": "/grafana/dashboards/f/kuSsEm2nk/ops", "provisioned": false, "provisionedExternalId": ""}, "dashboard": {"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "type": "dashboard"}]}, "editable": true, "gnetId": null, "graphTooltip": 0, "id": 11, "iteration": 1612320577124, "links": [], "panels": [{"alert": {"alertRuleTags": {}, "conditions": [{"evaluator": {"params": [90], "type": "gt"}, "operator": {"type": "and"}, "query": {"params": ["A", "5m", "now"]}, "reducer": {"params": [], "type": "last"}, "type": "query"}], "executionErrorState": "keep_state", "for": "20s", "frequency": "1s", "handler": 1, "name": "Add new host in case of high useage", "noDataState": "no_data", "notifications": [{"uid": "3LmefYYMk"}]}, "aliasColors": {}, "bars": false, "dashLength": 10, "dashes": false, "datasource": null, "decimals": 2, "fieldConfig": {"defaults": {"custom": {}}, "overrides": []}, "fill": 1, "fillGradient": 0, "gridPos": {"h": 7, "w": 12, "x": 0, "y": 0}, "hiddenSeries": false, "id": 2, "legend": {"alignAsTable": true, "avg": true, "current": true, "hideEmpty": true, "hideZero": true, "max": true, "min": true, "rightSide": true, "show": false, "total": false, "values": true}, "lines": true, "linewidth": 1, "links": [], "nullPointMode": "null as zero", "options": {"alertThreshold": true}, "percentage": false, "pluginVersion": "7.3.3", "pointradius": 5, "points": false, "renderer": "flot", "seriesOverrides": [], "spaceLength": 10, "stack": false, "steppedLine": false, "targets": [{"expr": "100 - (avg(irate(node_cpu_seconds_total{mode=\"idle\", instance=\"ip-10-0-3-189\"}[1m]) * 100))\r", "format": "time_series", "interval": "", "intervalFactor": 2, "legendFormat": "{{node_name}}", "refId": "A", "step": 2}], "thresholds": [{"colorMode": "critical", "fill": true, "line": true, "op": "gt", "value": 90}], "timeFrom": null, "timeRegions": [], "timeShift": null, "title": "CPU Usage by Node", "tooltip": {"shared": true, "sort": 2, "value_type": "individual"}, "type": "graph", "xaxis": {"buckets": null, "mode": "time", "name": null, "show": true, "values": []}, "yaxes": [{"format": "percent", "label": null, "logBase": 1, "max": "100", "min": null, "show": true}, {"format": "short", "label": null, "logBase": 1, "max": null, "min": null, "show": true}], "yaxis": {"align": false, "alignLevel": null}}], "schemaVersion": 26, "style": "dark", "tags": [], "templating": {"list": [{"allValue": ".+", "current": {"selected": false, "text": "j4ykk1cjntua9as7r22wak7kq", "value": "j4ykk1cjntua9as7r22wak7kq"}, "datasource": "Prometheus", "definition": "node_meta", "error": null, "hide": 0, "includeAll": true, "label": "Swarm Node", "multi": false, "name": "node_id", "options": [], "query": "node_meta", "refresh": 1, "regex": "/node_id=\"([^\"]+)\"/", "skipUrlSync": false, "sort": 0, "tagValuesQuery": "label_values({node_id=\"$tag\"},node_name)", "tags": [{"selected": false, "text": "ip-10-0-2-233"}, {"selected": false, "text": "ip-10-0-2-133"}, {"selected": false, "text": "ip-10-0-3-189"}, {"selected": false, "text": "ip-10-0-2-87"}, {"selected": false, "text": "ip-10-0-0-59"}, {"selected": false, "text": "ip-10-0-3-239"}, {"selected": false, "text": "ip-10-0-3-47"}, {"selected": false, "text": "ip-10-0-1-67"}, {"selected": false, "text": "ip-10-0-2-217"}], "tagsQuery": "label_values(node_meta, node_name)", "type": "query", "useTags": true}, {"auto": true, "auto_count": 30, "auto_min": "30s", "current": {"selected": false, "text": "auto", "value": "$__auto_interval_interval"}, "error": null, "hide": 0, "label": "interval", "name": "interval", "options": [{"selected": true, "text": "auto", "value": "$__auto_interval_interval"}, {"selected": false, "text": "1m", "value": "1m"}, {"selected": false, "text": "10m", "value": "10m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "1m,10m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-6h", "to": "now"}, "timepicker": {}, "timezone": "", "title": "Alerts Dashboard", "uid": "BbOjtLYGz", "version": 1}}